CREATE TABLE booking (
  bookingid INT64 NOT NULL,
  flightid INT64 NOT NULL,
  bookdate DATE NOT NULL,
) PRIMARY KEY(bookingid);

CREATE TABLE bookingdetails (
  passid INT64 NOT NULL,
  bookingid INT64 NOT NULL,
) PRIMARY KEY(passid, bookingid);

ALTER TABLE bookingdetails ADD CONSTRAINT constraint_detail2 FOREIGN KEY(bookingid) REFERENCES booking(bookingid);

CREATE TABLE flight (
  flightid INT64 NOT NULL,
  flightsource STRING(20),
  flightdest STRING(20),
  flightdate DATE,
  flightset INT64,
  ticketcost FLOAT64,
) PRIMARY KEY(flightid);

ALTER TABLE booking ADD CONSTRAINT constraint_booking FOREIGN KEY(flightid) REFERENCES flight(flightid);

CREATE TABLE passenger (
  passid INT64 NOT NULL,
  passname STRING(200),
  passemail STRING(200),
  passdob DATE,
) PRIMARY KEY(passid);

ALTER TABLE bookingdetails ADD CONSTRAINT constraint_detail1 FOREIGN KEY(passid) REFERENCES passenger(passid);